<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>產生 JSON</title>
</head>
<body>

<h2>請輸入 Number 和 Amount</h2>

<form id="inputForm">
    <label for="bcNum">Number (長度限制為 12):</label><br>
    <input id="bcNum" name="bcNum" maxlength="12" pattern="\d{12}" min="0" max="999999999999"><br>
    <label for="txtAmount">Amount (長度限制為 4):</label><br>
    <input type="number" id="txtAmount" name="txtAmount" maxlength="4" pattern="\d{1,4}" title="請輸入最多4位數字" min="0" max="9999"><br><br>
    <input type="button" value="產生 JSON" onclick="generateJSON()">
</form>

<div id="jsonOutput"></div>

<script>
function generateJSON() {
<!--  var bcNum = document.getElementById("bcNum").value;-->
<!--  var txtAmount = document.getElementById("txtAmount").value;-->
document.getElementById("bcNum").addEventListener("input", function() {
  if (this.value.length > 12) {
    this.value = this.value.slice(0, 12);
  }
});

document.getElementById("txtAmount").addEventListener("input", function() {
  if (this.value.length > 4) {
    this.value = this.value.slice(0, 4);
  }
});

  var jsonData = {
    "labelSrc": "https://shinbin.github.io/labels/link_example.json",
    "cloudLabelVer": 1,
    "initSetting": {
      "copies": 1,
      "darkness": 8
    },
    "printInput": {
      "bcNum": bcNum,
      "txtAmount": txtAmount
    },
    "modifyInput": false
  };

  var jsonString = JSON.stringify(jsonData);
  document.getElementById("jsonOutput").innerHTML = "<pre>" + jsonString + "</pre>";
}
</script>

</body>
</html>







<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Label Print</title>-->
<!--</head>-->
<!--<body>-->

<!--<form id="labelForm">-->
<!--    <label for="numberInput">編號：</label>-->
<!--    <input type="text" id="numberInput" name="no">-->
<!--    <br>-->
<!--    <label for="amountInput">金額：</label>-->
<!--    <input type="text" id="amountInput" name="Amount">-->
<!--    <br>-->
<!--    <button type="button" onclick="printLabel()">列印標籤</button>-->
<!--</form>-->

<!--<script>-->
<!--function printLabel() {-->
<!--    var number = document.getElementById("numberInput").value;-->
<!--    var amount = document.getElementById("amountInput").value;-->

<!--    // 檢查是否有輸入值-->
<!--    if (number && amount) {-->
<!--        // 建立帶有參數的網址-->
<!--        var url = "https://shinbin.github.io/ilabelprint/print?no=" + encodeURIComponent(number) + "&Amount=" + encodeURIComponent(amount);-->
<!--        // 打開新視窗導向至指定網址-->
<!--        window.open(url);-->
<!--    } else {-->
<!--        alert("請輸入編號和金額。");-->
<!--    }-->
<!--}-->
<!--</script>-->

<!--</body>-->
<!--</html>-->